version: "2"

services:

  elasticsearch:
    build: elasticsearch
    volumes:
      - esdata:/opt/elasticsearch/data
    extends: 
      file: common-services.yml
      service: elasticsearch

  logstash:
    build: logstash
    extends: 
      file: common-services.yml
      service: logstash
    volumes: 
    - ./logstash/pipeline:/usr/share/logstash/pipeline

  kibana:
    build: kibana
    extends: 
      file: common-services.yml
      service: kibana
    ports: 
    - 5601:5601

volumes:
  esdata: